
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FitsData &#8212; CryoNIRSP_Pipeline v0.8.0</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" type="text/css" />
    <link rel="stylesheet" href="../_static/dkist.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favico.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gain1Data" href="CryoNIRSP_Pipeline.common.Data.Gain1Data.html" />
    <link rel="prev" title="DemodulationData" href="CryoNIRSP_Pipeline.common.Data.DemodulationData.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="col-md-3 navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://nso.edu"><img src="../_static/img/NSOlogo.gif">
        </a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav hidden">
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">CryoNIRSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">FitsData</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="CryoNIRSP_Pipeline.common.Data.DemodulationData.html" title="Previous Chapter: DemodulationData"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; DemodulationData</span>
    </a>
  </li>
  <li>
    <a href="CryoNIRSP_Pipeline.common.Data.Gain1Data.html" title="Next Chapter: Gain1Data"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Gain1Data &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>
          
            <ul class="nav navbar-nav navbar-left">
              <li><a href="http://dkist.nso.edu/">DKIST</a></li>
              <li><a href="http://docs.cadair.com/devdocs">DC Developer Guide</a></li>
              <li><a href="http://docs.cadair.com/datarate">DKIST Data Rate</a></li>
              <li><a href="http://docs.cadair.com/datamodel">DKIST Data Model</a></li>
            </ul>
          
          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">

    <div class="col-md-3"><div id="side-logo" >
            <a href="http://dkist.nso.edu">
                <img src="../_static/img/DKISTLogo-Medium.jpg">
            </a>
        </div><div id="sidebar" class="bs-sidenav" role="complementary">
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">CryoNIRSP Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.CryoNIRSPPipeline">CryoNIRSP_Pipeline.CryoNIRSPPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.SP.SPScienceCalibration">CryoNIRSP_Pipeline.SP.SPScienceCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.SP.SPInstrumentPolarizationCalibration">CryoNIRSP_Pipeline.SP.SPInstrumentPolarizationCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.SP.SPPipeline">CryoNIRSP_Pipeline.SP.SPPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.CI.CIScienceCalibration">CryoNIRSP_Pipeline.CI.CIScienceCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.CI.CIInstrumentPolarizationCalibration">CryoNIRSP_Pipeline.CI.CIInstrumentPolarizationCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.CI.CIPipeline">CryoNIRSP_Pipeline.CI.CIPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Align.Align3Calibration">CryoNIRSP_Pipeline.Align.Align3Calibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.common.generic">CryoNIRSP_Pipeline.common.generic Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.common.Data">CryoNIRSP_Pipeline.common.Data Module</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../API.html#id9">Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../API.html#classes">Classes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.Align3Data.html">Align3Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.CIDarkData.html">CIDarkData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.CILampGainData.html">CILampGainData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.CIObservationData.html">CIObservationData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.CSStep.html">CSStep</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.CSStepData.html">CSStepData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.DataSetData.html">DataSetData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.DemodulationData.html">DemodulationData</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">FitsData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.Gain1Data.html">Gain1Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.Gain4Data.html">Gain4Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.RampAggregator.html">RampAggregator</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.RampData.html">RampData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.RawDrawerData.html">RawDrawerData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.SPAlign1Data.html">SPAlign1Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.SPDarkData.html">SPDarkData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.SPLampGainData.html">SPLampGainData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.SPObservationData.html">SPObservationData</a></li>
<li class="toctree-l4"><a class="reference internal" href="CryoNIRSP_Pipeline.common.Data.SlitPositionData.html">SlitPositionData</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../API.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.common.DarkCalibration">CryoNIRSP_Pipeline.common.DarkCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.common.LinearityCorrection">CryoNIRSP_Pipeline.common.LinearityCorrection Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Gain.Gain1Calibration">CryoNIRSP_Pipeline.Gain.Gain1Calibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Gain.Gain4Calibration">CryoNIRSP_Pipeline.Gain.Gain4Calibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Gain.LampGainCalibration">CryoNIRSP_Pipeline.Gain.LampGainCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Pol.pol_corrections">CryoNIRSP_Pipeline.Pol.pol_corrections Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Pol.pol_generic">CryoNIRSP_Pipeline.Pol.pol_generic Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-CryoNIRSP_Pipeline.Pol.TelescopePolarizationCalibration">CryoNIRSP_Pipeline.Pol.TelescopePolarizationCalibration Module</a></li>
</ul>
</li>
</ul>

            
        </div>
    </div>

    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="fitsdata">
<h1>FitsData<a class="headerlink" href="#fitsdata" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData">
<em class="property">class </em><code class="sig-prename descclassname">CryoNIRSP_Pipeline.common.Data.</code><code class="sig-name descname">FitsData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">load_obj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">allow3D</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>FitsData is a basically a wrapper for astropy.io.fits, with some extra methods and properties to aid the
reduction of DKIST data.</p>
<p>At its heart, this class is just a list of astropy.io.fits HDU objects.</p>
<p>astropy.io.fits is used to store data and metadata because of its use of memmap to reduce the load on RAM when
accessing data arrays.</p>
<p>Initialize an empty object and maybe load files from a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>load_obj</strong><span class="classifier">str</span></dt><dd><p>If supplied, the path to a directory of FITS files that will be loaded into this object.</p>
</dd>
<dt><strong>memmap</strong><span class="classifier">bool or None</span></dt><dd><p>Whether to use astropy.io.fits’ memmap functionality. Set to None to let astropy figure it out for you.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.data" title="CryoNIRSP_Pipeline.common.Data.FitsData.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>Make sure the _DataList object is up to date and return it</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.hdulist" title="CryoNIRSP_Pipeline.common.Data.FitsData.hdulist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hdulist</span></code></a></p></td>
<td><p>Just return the internal property</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.headers" title="CryoNIRSP_Pipeline.common.Data.FitsData.headers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">headers</span></code></a></p></td>
<td><p>A very nice convenience property to quickly access a list of the header objects</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.delete_data" title="CryoNIRSP_Pipeline.common.Data.FitsData.delete_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete_data</span></code></a>()</p></td>
<td><p>Unload data arrays from memory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.find_data_keyword_idx" title="CryoNIRSP_Pipeline.common.Data.FitsData.find_data_keyword_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_data_keyword_idx</span></code></a>(keyword, value)</p></td>
<td><p>Return the index of just the ImageHDUs that have a specific header keyword value</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.flush" title="CryoNIRSP_Pipeline.common.Data.FitsData.flush"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush</span></code></a>()</p></td>
<td><p>Flush the current data from memory and reload memmap from the disk</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.init_with_ndarray" title="CryoNIRSP_Pipeline.common.Data.FitsData.init_with_ndarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_with_ndarray</span></code></a>(array[, outputfile, …])</p></td>
<td><p>Load data from a numpy.ndarray and construct an astropy.io.fits HDU list</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_directory" title="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_directory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_from_directory</span></code></a>(directory[, searchstr, …])</p></td>
<td><p>Load a series of FITS files from a directory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_file" title="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_from_file</span></code></a>(fitsfile[, memmap])</p></td>
<td><p>Load data/metadata from a FITS file and make the resulting HDU list accessible to the rest of the class</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_filelist" title="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_filelist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_from_filelist</span></code></a>(file_list)</p></td>
<td><p>Load files from a list of file names</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.set_unc" title="CryoNIRSP_Pipeline.common.Data.FitsData.set_unc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_unc</span></code></a>(data)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CryoNIRSP_Pipeline.common.Data.FitsData.write_out" title="CryoNIRSP_Pipeline.common.Data.FitsData.write_out"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_out</span></code></a>(filename[, overwrite])</p></td>
<td><p>Save the current object to a FITS file</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the _DataList object is up to date and return it</p>
</dd></dl>

<dl class="py attribute">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.hdulist">
<code class="sig-name descname">hdulist</code><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Just return the internal property</p>
</dd></dl>

<dl class="py attribute">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.headers">
<code class="sig-name descname">headers</code><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>A very nice convenience property to quickly access a list of the header objects</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.delete_data">
<code class="sig-name descname">delete_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.delete_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.delete_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Unload data arrays from memory. The data will still be accessible from disk.</p>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.find_data_keyword_idx">
<code class="sig-name descname">find_data_keyword_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keyword</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.find_data_keyword_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.find_data_keyword_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of just the ImageHDUs that have a specific header keyword value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keyword</strong><span class="classifier">str</span></dt><dd><p>The header keyword to search for</p>
</dd>
<dt><strong>value</strong><span class="classifier">str, int, float</span></dt><dd><p>The value of the keyword to match</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>A 1d list of the indices that where data_hdus[idx].header[KEYWORD] == value</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush the current data from memory and reload memmap from the disk</p>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.init_with_ndarray">
<code class="sig-name descname">init_with_ndarray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">outputfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">autoflush</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.init_with_ndarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.init_with_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from a numpy.ndarray and construct an astropy.io.fits HDU list</p>
<p>To provide a uniform data type for all DKIST instruments the follow conventions are enforced:</p>
<ol class="arabic simple">
<li><p>The PrimaryHDU can (and should) have relevant header information</p></li>
<li><p>The PrimaryHDU will have no data</p></li>
<li><p>ImageHDU’s must have data with 2 or 3 dimensions</p></li>
</ol>
<p>A consequence of point 3 is that an extra, third or fourth (in the case of 2D and 3D data, respectively)
dimension in the input array will be distributed across multiple ImageHDU’s. Input arrays of
dimensionality &gt; 4 are not currently supported.</p>
<p>If an output file is not specified then a temporary FITS file will be created to take advantage of
astropy.io.fits’ memmap ability. In this case the FitsData object will be completely lost when it is no
longer needed. To save the object use the .write_out() method prior to deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>array</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>Array to be loaded into the FitsData object. Must have 2 or 3 dimensions</p>
</dd>
<dt><strong>outputfile</strong><span class="classifier">str</span></dt><dd><p>If specified, a FITS file will be saved to this path and then reloaded. If None then a temporary file
will be created.</p>
</dd>
<dt><strong>overwrite</strong><span class="classifier">bool</span></dt><dd><p>If True the outputfile specified will be overwritten.</p>
</dd>
<dt><strong>autoflush</strong><span class="classifier">bool</span></dt><dd><p>If True immediately write to a temp file and reload from disk. This is useful if memory pressure is a
concern.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_directory">
<code class="sig-name descname">load_from_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">searchstr</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">max_open</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">memmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.load_from_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a series of FITS files from a directory.</p>
<p>Each separate file will become a single HDU in this object’s data_hdus. A blank PrimaryHDU is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>directory</strong><span class="classifier">str</span></dt><dd><p>The path to the directory to look in</p>
</dd>
<dt><strong>searchstr</strong><span class="classifier">str</span></dt><dd><p>A string used to narrow down the files loaded. For example, to search for all .fits files starting with
“image_1”, the search string would be “image_1*.fits”.</p>
</dd>
<dt><strong>max_open</strong><span class="classifier">int</span></dt><dd><p>The maximum number of open files to keep. Some systems will cause massive errors if too many files are
open at a time. If loading from a directory with a lot of files, this method will flush() after max_open
have been loaded.</p>
</dd>
<dt><strong>memmap</strong><span class="classifier">boolean or None</span></dt><dd><p>Use astropy.io.fits’ memmap functionality? If None then astropy will make this choice for you.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_file">
<code class="sig-name descname">load_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fitsfile</span></em>, <em class="sig-param"><span class="n">memmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.load_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data/metadata from a FITS file and make the resulting HDU list accessible to the rest of the class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fitsfile</strong><span class="classifier">str</span></dt><dd><p>Path to the FITS file to load. Should probably exist.</p>
</dd>
<dt><strong>memmap</strong><span class="classifier">bool or None</span></dt><dd><p>Whether to use astropy.io.fits’ memmap functionality. Set to None to let astropy figure it out for you.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.load_from_filelist">
<code class="sig-name descname">load_from_filelist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.load_from_filelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.load_from_filelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Load files from a list of file names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_list</strong><span class="classifier">lst</span></dt><dd><p>A list of paths to files to load</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.set_unc">
<code class="sig-name descname">set_unc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.set_unc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.set_unc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="CryoNIRSP_Pipeline.common.Data.FitsData.write_out">
<code class="sig-name descname">write_out</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CryoNIRSP_Pipeline/common/Data.html#FitsData.write_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CryoNIRSP_Pipeline.common.Data.FitsData.write_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current object to a FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">str</span></dt><dd><p>The location of the resulting FITS file</p>
</dd>
<dt><strong>overwrite :</strong></dt><dd><p>If True, overwrite the filename if it exists. Otherwise complain about a pre-existing file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <div class="left-footer">
         &copy; 2020, Arthur Eigenbrot
       <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    </div>
   
    <div class="right-footer">
      Last updated on 26 Oct 2020.
    </div>
    <div class="centre-footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1
    </div>
  </div>
</footer>
  </body>
</html>